# Git讲义  
## 底层命令与上层命令  
由于 Git 最初是一套版本控制系统的工具集，而不是一个完整的、对用户友好的版本控制系统， 所以它还包含了一部分用于完成底层工作的子命令。 **底层（plumbing）命令**被设计成能以UNIX命令行的风格连接在一起，抑或藉由脚本调用，来完成工作。而那些更友好的命令则被称作**上层（porcelain）命令** 。  
## 上层命令集  
按功能，上层命令集可以分为
### start a working area
- **add**  
  该指令将文件或文件夹的相关信息添加到暂存区，同时生成对应的blob对象并将这些对象添加到Git数据库中。注意，同名并修改的文件会替换在暂存区中的文件信息但Git会保存这两者。
- **mv**  
  该指令将同时重命名在工作区与暂存区中的文件名。注意如果直接在工作区更改文件名，那么重命名的文件不会被Git自动跟踪。而且重命名后不能与暂存区中的已有文件重名。
- **restore**  
  该指令恢复指定的文件。无参数的话，就是从暂存区恢复到工作区。‘--staged’参数，是从当前分支对应的Git仓库恢复到暂存区。‘--staged --worktree’，是从当前分支对应的Git仓库恢复到工作区
- **rm**  
  该指令删除指定的文件或文件夹。‘-f’参数说明在工作区与暂存区同时删除指定文件；‘-r’参数显式说明删除指定文件夹；‘--cached’参数说明只删除暂存区中的信息，而不删除工作区的文件。
### work on the current change
- **diff**  
  该指令用来比较文件的不同。
- **log**  
  该指令查看从当前分支开始的提交历史。
- **status**  
  该指令查看工作目录和暂存区的状态。
- **show**  
  查看对象的详细信息。
### examine the history and state 
- **branch**  
  该指令是有关分支操作的集合。无参数时，查看本地分支。‘-r’参数说明查看远程分支。‘-a’参数说明查看所有分支。参数为分支名时，在当前分支处创建指定名字的分支。‘-d’参数说明删除指定分支。
- **commit**  
  该指令根据暂存区中的信息，生成相应的树对象以及提交对象，同时将当前分支指向到新创建的提交对象。注意，该指令不会更新暂存区中的信息。必须显式通过‘-m’参数说明版本注释。
- **merge**  
  该指令用来合并分支。当两个分支是直接祖先关系时，合并模式就是**快进（fast-forward）** 模式，即仅仅将分支向前推进，并会自动创建一个新的提交对象。如果两个分支不是直接的祖先关系时，会参考这两个分支的公共祖先，并作一个简单的三方合并。此时往往会有**合并冲突** ，即对同一个文件的同一个部分进行了不同的修改，此时Git会等待您处理他们之间的差异。 在您解决了所有文件里的冲突之后，对每个文件使用 git add 指令来将其标记为冲突已解决。 一旦再次暂存这些原本有冲突的文件，Git 就会将它们标记为冲突已解决。接着就能顺利使用git merge指令。
- **rebase**  
  该指令用来分支的变基。即更新某一个分支所指向的提交对象的父对象。此时也会有**合并冲突**的问题，解决方法请参考git merge解决**合并冲突**的方法。
- **reset**  
  该指令执行相关的撤销操作，本质上将当前分支指向指定的提交对象。‘--hard’参数会重置工作区与暂存区中的内容。‘--
  soft’参数会保留工作目录的内容与暂存区中的内容。‘--mixed’参数说明保留工作目录并重置暂存区。
- **switch**  
  该指令用来切换分支。同时会更新暂存区中的内容。
- **tag**  
  该指令用来对当前分支打标签。无参数时，列出（以字母顺序）所有标签。‘-a’参数创建附注标签。直接说明标签名时，会创建轻量标签，同时必须带上‘-m’参数以说明标签信息。
### grow, mark and tweak your common history  
- **fetch**
- **pull**
- **branch**
- **push**
### collaborate  
## 底层命令集  
- **git init**  
  本指令创建一个空的Git版本仓库。更具体地说，它会创建名为.git的文件夹。
- **git hash-object**  
  本指令向Git数据库写入数据（文件），并返回40位的SHA1校验值。 -参数‘-w’显式说明要写入数据。
- **git cat-file**   
  本指令可以查看数据库中某一键值对应的数据。其中参数‘-t’查看键值对应数据的类型，参数‘-p’查看键值对应的数据内容。注意，直接查看的话是一串乱码，这是因为Git将信息压缩成二进制文件。
- **git update-index**    
  本指令用于创建暂存区。参数‘--add’，将某个文件的SHA1记录到暂存区中，同时将该文件存储在Git数据库中。注意无法将一个文件夹添加到暂存区中，而是应该将文件夹中的文件加入到暂存区中。
- **git ls-files**    
  本指令用于查看文件列表。‘--stage’参数查看暂存区中的信息。无参数时，查看Git仓库中的文件信息。 
- **git write-tree**
  本指令用于将暂存区的内容写入新的树对象。并将该对象存储在Git数据库中.如果存在多个目录，那么就会深度优先遍历地生成对应的树对象，并将该目录下的文件的SHA1校验值、子目录对应的树对象的SHA1校验值，添加到相应树对象中的对象内容。即每一个树对象记录一个目录的信息（在本目录的文件以及子目录的索引）。
- **git commit-tree**   
  本指令创建提交对象，需要指定一个被提交的树对象的SHA1校验值，以及通过‘-p’参数说明它的提交对象的父对象（第一次提交除外）。必须显式通过‘-m’参数说明版本注释。

## 使用Github  
创建SSH Key，ssh-keygen -t rsa -C "youremail@example.com"。其密钥保存在在用户主目录中.ssh文件夹中。
## 参考文献
Git Bash $ git help  
https://zhuanlan.zhihu.com/p/45510461   
https://zhuanlan.zhihu.com/p/96631135